(this.webpackJsonpkanban=this.webpackJsonpkanban||[]).push([[0],{11:function(e,t,n){e.exports=n.p+"static/media/cross.5fe0db66.svg"},19:function(e,t,n){e.exports=n.p+"static/media/addBtn.6cb6e5fc.svg"},20:function(e,t,n){e.exports=n(37)},25:function(e,t,n){},26:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(4),c=n(5),o=n(6),i=n(0),l=n.n(i),s=n(7),d=n.n(s);n(25),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u,m,p,f,b,h,v,O,j=n(8),C=(n(26),function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement(j.b,{draggableId:"".concat(this.props.colIndex).concat(this.props.index),index:this.props.index},(function(t,n){return l.a.createElement("div",Object.assign({className:"card"},t.draggableProps,t.dragHandleProps,{ref:t.innerRef}),e.props.children)}))}}]),n}(l.a.Component)),g=n(12),E=n(9),x=n(10),k=(n(32),n(1)),y=new(u=function e(){Object(a.a)(this,e),Object(E.a)(this,"columns",m,this),Object(E.a)(this,"addCard",p,this),Object(E.a)(this,"addColumn",f,this),Object(E.a)(this,"deleteCard",b,this),Object(E.a)(this,"deleteColumn",h,this)},m=Object(x.a)(u.prototype,"columns",[k.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{title:"\u041f\u043b\u0430\u043d \u043d\u0430 \u043c\u0435\u0441\u044f\u0446",cards:["1","3","1","2","3"]},{title:"\u041f\u043b\u0430\u043d \u043d\u0430 \u0433\u043e\u0434",cards:["15","20","30"]}]}}),p=Object(x.a)(u.prototype,"addCard",[k.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){""!==t&&e.columns[n].cards.push(t)}}}),f=Object(x.a)(u.prototype,"addColumn",[k.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.columns.push({title:t,cards:[]})}}}),b=Object(x.a)(u.prototype,"deleteCard",[k.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){window.confirm("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443?")&&e.columns[t].cards.splice(n,1)}}}),h=Object(x.a)(u.prototype,"deleteColumn",[k.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){window.confirm("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443?")&&e.columns.splice(t,1)}}}),u),w=n(11),I=n.n(w),N=(n(34),Object(g.a)(v=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.provided,t=this.props.colIndex;return l.a.createElement("div",{className:"column"},l.a.createElement("div",{className:"column-title"},l.a.createElement("span",null,this.props.title),l.a.createElement("div",{className:"delete-column",onClick:function(){return y.deleteColumn(t)}},l.a.createElement("img",{src:I.a,alt:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443"}))),l.a.createElement("div",Object.assign({className:"column-items"},e.droppableProps,{ref:e.innerRef}),this.props.cards.map((function(e,n){return l.a.createElement(C,{key:n,index:n,colIndex:t},e,l.a.createElement("div",{className:"delete-card",onClick:function(){return y.deleteCard(t,n)}},l.a.createElement("img",{src:I.a,alt:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"})))})),e.placeholder),l.a.createElement(A,{index:this.props.index}))}}]),n}(l.a.Component))||v),H=(n(35),Object(g.a)(O=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return l.a.createElement("div",{className:"kanban-board"},l.a.createElement(j.a,{onDragEnd:function(e){return function(e,t){var n=e.destination,a=e.source;if(n&&(n.droppableId!==a.droppableId||n.index!==a.index)){var r=parseInt(a.droppableId.replace("col","")),c=parseInt(n.droppableId.replace("col",""));console.log("dest_drop_id",c),console.log("source_drop_id",r),console.log("dest_index",n.index),console.log("source_index",a.index),t.columns=t.columns.map((function(e,o){if(c===o){var i=t.columns[r].cards.splice(a.index,1),l=Array.from(e.cards);l.splice(n.index,0,i),e.cards=l}return e}))}}(e,y)}},y.columns.map((function(e,t){return l.a.createElement(R,Object.assign({key:t,index:t},e))})),l.a.createElement(R,null)))}}]),n}(l.a.Component))||O),_=n(19),T=n.n(_),A=(n(36),function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={addItem:!1,cardText:""},e.wrapper=Object(i.createRef)(),e.myRef=Object(i.createRef)(),e.onCLickOutsideHandler=function(t){e.wrapper.current&&!e.wrapper.current.contains(t.target)&&(console.log(e.wrapper,e.wrapper.current),e.onClickCrossHandler(),console.log(t.target))},e.onClickCrossHandler=function(){e.setState({addItem:!1,cardText:""})},e.onClickAddHandler=function(){e.setState({addItem:!0},(function(){e.myRef.current.focus()}))},e.onChangeTextArea=function(t){e.setState({cardText:t.currentTarget.value})},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onCLickOutsideHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onCLickOutsideHandler)}},{key:"render",value:function(){var e=this,t=this.props.empty,n=this.state.cardText,a=this.props.index;return this.state.addItem?l.a.createElement("div",{ref:this.wrapper,className:t?"add-item empty":"add-item"},l.a.createElement("div",{className:"text-area"},l.a.createElement("textarea",{rows:"2",placeholder:t?"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",onChange:this.onChangeTextArea,value:this.state.cardText,ref:this.myRef})),l.a.createElement("div",{className:"add-item__bottom"},l.a.createElement("button",{onClick:t?function(){y.addColumn(n),e.onClickCrossHandler()}:function(){y.addCard(n,a),e.onClickCrossHandler()}},t?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"),l.a.createElement("img",{src:I.a,onClick:this.onClickCrossHandler,alt:"close form"}))):l.a.createElement("div",{className:"column__bottom",onClick:this.onClickAddHandler},l.a.createElement("img",{src:T.a,alt:"add item"}),l.a.createElement("span",null,t?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443 \u043a\u043e\u043b\u043e\u043d\u043a\u0443":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"))}}]),n}(l.a.Component)),R=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props.index;return this.props.cards?l.a.createElement(j.c,{droppableId:"col".concat(t)},(function(n){return l.a.createElement(N,{colIndex:t,provided:n,cards:e.props.cards,title:e.props.title,index:e.props.index})})):l.a.createElement("div",{className:"column"},l.a.createElement(A,{empty:!0}))}}]),n}(l.a.Component),z=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(H,null))}}]),n}(l.a.Component);d.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.d5c461d2.chunk.js.map